# 适配器

## 意图

**将一个类的接口转换为客户希望的另外一个接口**。

如：中文的人同讲英文的人对话时需要一个翻译；用直流电的笔记本电脑接交流电源时需要一个电源适配器；用计算机访问照相机的 SD 内存卡时需要一个读卡器；slf4j-log4j-adapter



## 适用性

- 想使用一个已经存在的类，但它的接口不符合你的需求；
- 创建一个可以复用的类，该类可以与其他不相关的类或不可预见的类协同工作；
- 想使用一些已经存在的子类，但不可能对每一个都进行子类化以匹配它们的接口。



## 类图

类适配器/接口适配器，比如 Java 中的KeyListener和KeyAdapter（Adaptee和Target都是KeyListener）；

![类适配器模式的结构图](.pics/adapter/adapter_interface.png)

对象适配器模式（Adapter中含有Adaptee的对象）

![类适配器模式的结构图](.pics/adapter/adapter.png)

适配器模式（Adapter）可扩展为**双向适配器模式**，双向适配器类既可以把适配者接口转换成目标接口，也可以把目标接口转换成适配者接口。

![双向适配器模式的结构图](.pics/adapter/dual_adapter.png)

## 优缺点

该模式的主要**优点**如下：

- 客户端通过适配器可以**透明**地调用目标接口；
- **复用**现存的类，程序员不需要修改原有代码而重用现有的适配者类；
- 将目标类和适配者类解耦，解决了目标类和适配者类接口不一致的问题；
- 在很多业务场景中符合**开闭原则**。


其**缺点**是：

- 适配器编写过程需要结合业务场景全面考虑，可能会增加系统的**复杂性**；
- 增加代码阅读难度，降低代码可读性，**过多使用适配器会使系统代码变得凌乱**。



## 示例

Java的 InputStreamReader，将InputStream实例适配为Reader的接口。